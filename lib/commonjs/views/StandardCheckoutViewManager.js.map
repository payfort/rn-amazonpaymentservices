{"version":3,"names":["ViewManager","requireNativeComponent","StandardCheckoutViewManager","props","isIOS","Platform","OS","showStandardCheckoutPage","onSuccess","onFailure","onCancel","requestObject","environment","requestCode","showLoading","showResponsePage","propsDone","returnSuccessParsed","response","responseObject","nativeResponseSelector","returnFailureParsed","useEffect","callFortRequest","e","Error","propsAdjustedIOS"],"sources":["StandardCheckoutViewManager.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Platform, requireNativeComponent, Text } from 'react-native';\nimport { useEffect } from 'react';\nimport { callFortRequest } from '../services/callFortRequest';\nimport nativeResponseSelector from '../utils/nativeResponseSelector';\nimport type { standardCheckoutViewProps } from '../types/viewProps';\n\nconst ViewManager = requireNativeComponent('StandardCheckout');\n\nconst StandardCheckoutViewManager: React.FC<standardCheckoutViewProps> = (\n  props\n) => {\n  const isIOS = Platform.OS === 'ios';\n\n  const {\n    showStandardCheckoutPage,\n    onSuccess = () => {},\n    onFailure = () => {},\n    onCancel = () => {},\n    requestObject,\n    environment = 'TEST',\n    requestCode = 0,\n    showLoading = true,\n    showResponsePage = true,\n  } = props;\n\n  const propsDone = requestObject && environment;\n\n  const returnSuccessParsed = (response: any) => {\n    const responseObject = nativeResponseSelector(response);\n    if (onSuccess) {\n      onSuccess(responseObject);\n    }\n  };\n\n  const returnFailureParsed = (response: any) => {\n    const responseObject = nativeResponseSelector(response);\n    if (onFailure) {\n      onFailure(responseObject);\n    }\n  };\n\n  useEffect(() => {\n    if (showStandardCheckoutPage && !isIOS && requestObject) {\n      try {\n        callFortRequest(\n          onSuccess,\n          onFailure,\n          onCancel,\n          requestObject,\n          environment,\n          requestCode,\n          showLoading,\n          showResponsePage\n        );\n      } catch (e) {\n        throw new Error('Error while calling fort request');\n      }\n    }\n    // eslint-disable-next-line\n  }, [showStandardCheckoutPage]);\n\n  const propsAdjustedIOS = {\n    ...props,\n    showLoading: showLoading ? 1 : 0,\n    showResponsePage: showResponsePage ? 1 : 0,\n    onSuccess: returnSuccessParsed,\n    onFailure: returnFailureParsed,\n  };\n  return propsDone ? (\n    showStandardCheckoutPage && isIOS ? (\n      <ViewManager {...propsAdjustedIOS} />\n    ) : null\n  ) : (\n    // @ts-ignore\n    <Text>Request object missing</Text>\n  );\n};\n\nexport default StandardCheckoutViewManager;\n"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;;;;;;;AAGA,MAAMA,WAAW,GAAG,IAAAC,mCAAA,EAAuB,kBAAvB,CAApB;;AAEA,MAAMC,2BAAgE,GACpEC,KADuE,IAEpE;EACH,MAAMC,KAAK,GAAGC,qBAAA,CAASC,EAAT,KAAgB,KAA9B;EAEA,MAAM;IACJC,wBADI;IAEJC,SAAS,GAAG,MAAM,CAAE,CAFhB;IAGJC,SAAS,GAAG,MAAM,CAAE,CAHhB;IAIJC,QAAQ,GAAG,MAAM,CAAE,CAJf;IAKJC,aALI;IAMJC,WAAW,GAAG,MANV;IAOJC,WAAW,GAAG,CAPV;IAQJC,WAAW,GAAG,IARV;IASJC,gBAAgB,GAAG;EATf,IAUFZ,KAVJ;EAYA,MAAMa,SAAS,GAAGL,aAAa,IAAIC,WAAnC;;EAEA,MAAMK,mBAAmB,GAAIC,QAAD,IAAmB;IAC7C,MAAMC,cAAc,GAAG,IAAAC,+BAAA,EAAuBF,QAAvB,CAAvB;;IACA,IAAIV,SAAJ,EAAe;MACbA,SAAS,CAACW,cAAD,CAAT;IACD;EACF,CALD;;EAOA,MAAME,mBAAmB,GAAIH,QAAD,IAAmB;IAC7C,MAAMC,cAAc,GAAG,IAAAC,+BAAA,EAAuBF,QAAvB,CAAvB;;IACA,IAAIT,SAAJ,EAAe;MACbA,SAAS,CAACU,cAAD,CAAT;IACD;EACF,CALD;;EAOA,IAAAG,eAAA,EAAU,MAAM;IACd,IAAIf,wBAAwB,IAAI,CAACH,KAA7B,IAAsCO,aAA1C,EAAyD;MACvD,IAAI;QACF,IAAAY,gCAAA,EACEf,SADF,EAEEC,SAFF,EAGEC,QAHF,EAIEC,aAJF,EAKEC,WALF,EAMEC,WANF,EAOEC,WAPF,EAQEC,gBARF;MAUD,CAXD,CAWE,OAAOS,CAAP,EAAU;QACV,MAAM,IAAIC,KAAJ,CAAU,kCAAV,CAAN;MACD;IACF,CAhBa,CAiBd;;EACD,CAlBD,EAkBG,CAAClB,wBAAD,CAlBH;EAoBA,MAAMmB,gBAAgB,GAAG,EACvB,GAAGvB,KADoB;IAEvBW,WAAW,EAAEA,WAAW,GAAG,CAAH,GAAO,CAFR;IAGvBC,gBAAgB,EAAEA,gBAAgB,GAAG,CAAH,GAAO,CAHlB;IAIvBP,SAAS,EAAES,mBAJY;IAKvBR,SAAS,EAAEY;EALY,CAAzB;EAOA,OAAOL,SAAS,GACdT,wBAAwB,IAAIH,KAA5B,gBACE,oBAAC,WAAD,EAAiBsB,gBAAjB,CADF,GAEI,IAHU;EAAA;EAKd;EACA,oBAAC,iBAAD,iCANF;AAQD,CApED;;eAsEexB,2B"}